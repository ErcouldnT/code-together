import{u as e,D as t,i as n,Q as r,R as s,B as l,S as c,a as o,b as a,v as u,c as i}from"./vendor.6c6b504f.js";const d=[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{align:[]}],["image","blockquote","code-block"],["clean"]];function m(){const{id:l}=e(),[c,o]=t.exports.useState(),[a,u]=t.exports.useState();t.exports.useEffect((()=>{const e=n();return o(e),()=>{e.disconnect()}}),[]),t.exports.useEffect((()=>{null!=c&&null!=a&&(c.once("load-document",(e=>{a.setContents(e),a.enable()})),c.emit("get-document",l))}),[c,a,l]),t.exports.useEffect((()=>{if(null==c||null==a)return;const e=setInterval((()=>{c.emit("save-document",a.getContents())}),2e3);return()=>{clearInterval(e)}}),[c,a]),t.exports.useEffect((()=>{if(null==c||null==a)return;const e=e=>{a.updateContents(e)};return c.on("receive-changes",e),()=>{c.off("receive-changes",e)}}),[c,a]),t.exports.useEffect((()=>{if(null==c||null==a)return;const e=(e,t,n)=>{"user"===n&&c.emit("send-changes",e)};return a.on("text-change",e),()=>{a.off("text-change",e)}}),[c,a]);const i=t.exports.useCallback((e=>{if(null==e)return;e.innerHTML="";const t=document.createElement("div");e.append(t);const n=new r(t,{theme:"snow",modules:{toolbar:d}});n.disable(),n.setText("Loading..."),u(n)}),[]);return s.createElement("div",{className:"container",ref:i})}function f(){return s.createElement(l,null,s.createElement(c,null,s.createElement(o,{path:"/",exact:!0},s.createElement(a,{to:`/documents/${u()}`})),s.createElement(o,{path:"/documents/:id"},s.createElement(m,null))))}i.render(s.createElement(s.StrictMode,null,s.createElement(f,null)),document.getElementById("root"));
